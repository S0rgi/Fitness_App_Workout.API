

# Fitness App Workout API

**Fitness App Workout API** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –∏ –≤—ã–∑–æ–≤–∞–º–∏ (—á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏) –≤ —Ñ–∏—Ç–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –∏ —á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Auth API —á–µ—Ä–µ–∑ gRPC –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–∂–±—ã, –∞ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ RabbitMQ. –†–∞–∑–≤—ë—Ä–Ω—É—Ç –Ω–∞ **Fly.io**, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ **Neon**, –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **Grafana + Prometheus**, –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **GitHub Actions**.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üåê REST API (JSON)

#### üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (`Workout`)

* –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ ID
* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
* –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

#### üéØ –ß–µ–ª–ª–µ–Ω–¥–∂–∏ (`Challenge`)

* –°–æ–∑–¥–∞–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞
* –ü—Ä–∏–Ω—è—Ç–∏–µ / –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞
* –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞ (—Å—Ç–∞—Ç—É—Å: `Completed` –∏–ª–∏ `Failed`)
* –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞ –ø–æ ID

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

---

## üóÇÔ∏è –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Workout

| –ü–æ–ª–µ        | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö              | –û–ø–∏—Å–∞–Ω–∏–µ                                        |
| ----------- | ----------------------- | ----------------------------------------------- |
| `Id`        | `Guid`                  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏             |
| `UserId`    | `Guid`                  | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–µ—Ä–µ–∑ gRPC)         |
| `Title`     | `string`                | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ì—Ä—É–¥—å –∏ —Å–ø–∏–Ω–∞") |
| `Date`      | `DateTime`              | –î–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏                                 |
| `Exercises` | `List<WorkoutExercise>` | –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ                  |

---

### Challenge

| –ü–æ–ª–µ          | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö                | –û–ø–∏—Å–∞–Ω–∏–µ                                                                    |
| ------------- | ------------------------- | --------------------------------------------------------------------------- |
| `Id`          | `Guid`                    | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–µ–ª–ª–µ–Ω–¥–∂–∞                                          |
| `InitiatorId` | `Guid`                    | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç–ø—Ä–∞–≤–∏–≤—à–µ–≥–æ –≤—ã–∑–æ–≤                                         |
| `RecipientId` | `Guid`                    | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤                                   |
| `CreatedAt`   | `DateTime`                | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                                                               |
| `CompletedAt` | `DateTime?`               | –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è                                                             |
| `Duration`    | `TimeSpan?`               | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∞                                                 |
| `Message`     | `string?`                 | –°–æ–æ–±—â–µ–Ω–∏–µ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)                                                     |
| `Status`      | `enum`                    | –°—Ç–∞—Ç—É—Å —á–µ–ª–ª–µ–Ω–¥–∂–∞ (`Pending`, `Accepted`, `Completed`, `Failed`, `Rejected`) |
| `Exercises`   | `List<ChallengeExercise>` | –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ —á–µ–ª–ª–µ–Ω–¥–∂–µ                                               |

---

## üîó gRPC-–∫–ª–∏–µ–Ω—Ç (Auth API)

* **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ JWT** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–∫–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `UserId`, `Email`, `Username`
* **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–∂–±—ã** ‚Äî –ø–æ `UserId` –∏ `FriendUsername`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `FriendId`, `Email`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
* –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–∂–±—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π

---

## üêá RabbitMQ Producer

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ:

* **–°–æ–∑–¥–∞–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∞** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –Ω–æ–≤–æ–º –≤—ã–∑–æ–≤–µ
* **–û—Ç–≤–µ—Ç –Ω–∞ —á–µ–ª–ª–µ–Ω–¥–∂** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä—É –æ –ø—Ä–∏–Ω—è—Ç–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –≤—ã–∑–æ–≤–∞

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (JSON)**:

```json
{
  "type": "challenge_response",
  "recipientEmail": "example@mail.com",
  "senderName": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "action": "accepted"
}
```

---

## ‚òÅÔ∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–µ–ø–ª–æ–π

* üöÄ **–•–æ—Å—Ç–∏–Ω–≥ –Ω–∞ Fly.io** ‚Äî —Å–µ—Ä–≤–∏—Å —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Fly.io
* üîí **–°–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ Fly Secrets** ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ç–æ–∫–µ–Ω–æ–≤
* üìä **–ú–µ—Ç—Ä–∏–∫–∏** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ Prometheus + Grafana –Ω–∞ Fly.io
* üì¶ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî PostgreSQL –Ω–∞ –æ–±–ª–∞—á–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ **Neon**
* üîÑ **CI/CD —á–µ—Ä–µ–∑ GitHub Actions** ‚Äî –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –ø—Ä–∏ –ø—É—à–∞—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

---

## üß© –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

* **Auth API** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–∂–±—ã —á–µ—Ä–µ–∑ gRPC
* **RabbitMQ** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
* **PostgreSQL (Neon)** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
* **Prometheus + Grafana** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
* **Fly.io** ‚Äî —Ö–æ—Å—Ç–∏–Ω–≥
* **GitHub Actions** ‚Äî –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π

---
